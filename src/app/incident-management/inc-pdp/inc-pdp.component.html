
<div class="row">
       
    <div class="col-md-6">
        <p id="headp" (click)="routerPage()" class="button"><span>></span>&nbsp;&nbsp;Back </p>
    </div>
</div>

<!-- <div class="row"  style="background-color: white;border-radius: 3px;margin-top: 0.7rem;" > -->
    <div class="col-md-12 col-lg-12 col-xs-12 col-sm-12 col-xl-12 "
     style="background-color:white;margin-top: 0rem;border-radius: 3px;" *ngFor="let afd of details">

         
   <br>
    <div class="row ml-3" >
        <div class="col-sm-7">
            <p id="p2" *ngIf="accountService.user.rolename === 'enduser'">{{afd.inid_id}} has been submitted and awaits assignments</p>
            <p id="p2" *ngIf="accountService.user.rolename != 'enduser'">{{afd.inid_id}} has been assigned to {{afd.assignedto}}</p>
           
        </div>
   
            <div class="col-md-3" *ngIf="accountService.user.rolename != 'enduser'">
                <button class="edit float-right" (click)="edit()">EDIT</button>
            </div>
       
    </div>

 
    <div class="row ml-3">
        <div class=" col-md-12 col-sm-12">
        <hr id="hr">
        </div>
    </div>

    <div class="row  ml-3">
        <div class="col-sm-6">
       <p id="p3">{{afd.detaii_desc}}</p>
        </div>
    </div>

    <div class="row ml-3">
        <div class="col-md-3 list">
            <p>From</p>
            <p>Contact Number</p>
            <p>Product Name</p>
            <p>Product Category</p>
            <p>Priority</p>
            <p>Created</p>
           
            
          
          
          
        </div>

        <div class="col-md-3 listdata">
            <p>{{afd.openedby  == null || afd.openedby == ' ' ? ("null") : (afd.openedby)}}</p>
            <p>{{afd.contactnum  == null || afd.contactnum == ' ' ? ("-") : (afd.contactnum)}}
                /{{afd.contact  == 'No Description' || afd.contact == ' ' ? ("-") : (afd.contact)}}
            </p>
            <p>{{afd.astg_group  == null || afd.astg_group == ' ' ? ("null") : (afd.astg_group)}}</p>
            <p>{{afd.category  == null || afd.category == ' ' ? ("null") : (afd.category)}}</p>
            <p>{{afd.priority  == null || afd.priority == ' ' ? ("null") : (afd.priority)}}</p>
            <p>{{afd.created  == null || afd.created == ' ' ? ("null") : (afd.created)}}</p>
            
              
        </div>

        <div class="col-md-3 list">
            <p>Status</p>
            <p>Assigned To</p>
            <p *ngIf="accountService.user.rolename !== 'enduser'">Engg Contact Number</p>
           
        </div>

        <div class="col-md-3 listdata">
            <p>{{afd.status  == null || afd.status == ' ' ? ("null") : (afd.status)}}</p>
           
            <p>{{afd.assignedto  == null || afd.assignedto == ' ' ? ("null") : (afd.assignedto)}}</p>  
            <p *ngIf="accountService.user.rolename !== 'enduser'">{{afd.enggcontact  == '/' || afd.enggcontact == ' ' ? ("-") : (afd.enggcontact)}}
                  </p>
          
        </div>



    </div>

    <div class="row ml-3">
        <div class="col-md-3">
            <p>Description</p>
    </div>
    <div class="col-md-9">
        <p>{{afd.issue_desc  == null || afd.issue_desc == ' ' ? ("null") : (afd.issue_desc)}}</p>
           
</div>

</div>

    
    <div class="row ml-3">
        <div class="col-md-10 col-sm-10">
        <hr id="hr">
        </div>
     
    </div>


    <div class="row ml-3">
        <div class="col-sm-10" >
         <label >Attachments</label><br>
            <table class="table">

             <thead>
<tr>
<th scope="col">Name</th>
<!-- <th scope="col">Start Page</th>
<th scope="col">View</th>
<th scope="col">Download</th> -->
</tr>
</thead>

<tbody>
<tr *ngFor="let item of pdfFiles">
<th scope="row">{{ item.filename}}</th>
<!-- <td>{{ item.startPage }}</td> -->
<td>
    <button type="button" class="btn btn-primary btn-sm" (click)="openDoc(item.angular_path, item.startPage)">
        View
    </button>
</td>
<td> 
    <button type="button" class="btn btn-success btn-sm" (click)="downloadPdf(item.angular_path, item.filename)">
        Download
    </button>
</td>
</tr>
</tbody>
</table>
                   </div>
    </div>

   
<br>

<div class="ml-5">
    <p>
        <a  data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
         View Audit trail
        </a>
       
      </p>
      <div class="collapse " id="collapseExample">
        <div class="card card-body ">
            <textarea rows="5" style="border: none;">{{previousData}}</textarea>
     
            </div>
      </div>
    
    </div>
    <br>



</div>
